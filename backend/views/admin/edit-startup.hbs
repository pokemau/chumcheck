<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Edit Startup - Admin</title>
    <link rel="stylesheet" type="text/css" href="/css/admin-styles.css">
</head>
<body>
    <header>
        <h1>Admin Dashboard</h1>
    </header>
    <nav>
        <ul>
            <li><a href="/admin">Dashboard</a></li>
            <li><a href="/admin/users">Manage Users</a></li>
            <li><a href="/admin/startups">Manage Startups</a></li>
        </ul>
    </nav>
    <main>
        <h2>Edit Startup: {{#if formData.name}}{{formData.name}}{{else}}{{editableStartup.name}}{{/if}}</h2>

        {{#if error}}
            <div class="alert alert-danger">
                {{#each error}}
                    <p>{{this}}</p>
                {{/each}}
            </div>
        {{/if}}

        <form method="POST">
            <div>
                <label for="name">Startup Name:</label>
                <input type="text" id="name" name="name" value="{{#if formData.name}}{{formData.name}}{{else}}{{editableStartup.name}}{{/if}}" required>
            </div>
            <div>
                <label for="userId">Owner (User):</label>
                <select id="userId" name="userId" required>
                    <option value="">Select User</option>
                    {{#each users}}
                        <option value="{{this.id}}" {{#if (eq (defaultIfEmpty ../formData.userId ../editableStartup.user.id) this.id)}}selected{{/if}}>{{this.email}} (ID: {{this.id}})</option>
                    {{/each}}
                </select>
            </div>
            <div>
                <label for="qualificationStatus">Qualification Status:</label>
                <select id="qualificationStatus" name="qualificationStatus" required>
                    <option value="PENDING" {{#if (eq (defaultIfEmpty formData.qualificationStatus editableStartup.qualificationStatus) "PENDING")}}selected{{/if}}>Pending</option>
                    <option value="QUALIFIED" {{#if (eq (defaultIfEmpty formData.qualificationStatus editableStartup.qualificationStatus) "QUALIFIED")}}selected{{/if}}>Qualified</option>
                    <option value="NOT_QUALIFIED" {{#if (eq (defaultIfEmpty formData.qualificationStatus editableStartup.qualificationStatus) "NOT_QUALIFIED")}}selected{{/if}}>Not Qualified</option>
                </select>
            </div>
             <div>
                <label for="dataPrivacy">Data Privacy Agreement:</label>
                <input type="checkbox" id="dataPrivacy" name="dataPrivacy" value="true" {{#if (defaultIfEmpty formData.dataPrivacy editableStartup.dataPrivacy)}}checked{{/if}}>
            </div>
            <div>
                <label for="links">Links (comma-separated URLs):</label>
                <input type="text" id="links" name="links" value="{{#if formData.links}}{{formData.links}}{{else}}{{editableStartup.links}}{{/if}}">
            </div>
            <div>
                <label for="groupName">Group Name:</label>
                <input type="text" id="groupName" name="groupName" value="{{#if formData.groupName}}{{formData.groupName}}{{else}}{{editableStartup.groupName}}{{/if}}">
            </div>
            <div>
                <label for="universityName">University Name:</label>
                <input type="text" id="universityName" name="universityName" value="{{#if formData.universityName}}{{formData.universityName}}{{else}}{{editableStartup.universityName}}{{/if}}">
            </div>
            <div>
                <label for="eligibility">Eligibility Confirmed:</label>
                <input type="checkbox" id="eligibility" name="eligibility" value="true" {{#if (defaultIfEmpty formData.eligibility editableStartup.eligibility)}}checked{{/if}}>
            </div>
            <button type="submit">Update Startup</button>
        </form>
        <br>
        <a href="/admin/startups">Back to Startup List</a>
    </main>
    <footer>
        <p>&copy; 2025 Chumcheck Admin</p>
    </footer>
</body>
</html>
