{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/src/lib/constants.ts"],"sourcesContent":["export const BACKEND_API_URL = process.env.BACKEND_URL || process.env.NEXT_PUBLIC_BACKEND_API_URL;\n\n"],"names":[],"mappings":";;;AAAO,MAAM,kBAAkB,QAAQ,GAAG,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/src/lib/definitions.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport type FormState =\n  | {\n      error?: {\n        name?: string[];\n        email?: string[];\n        password?: string[];\n        repeatPassword?: string[];\n      };\n      message?: string;\n      success: boolean;\n    }\n  | undefined;\n\nexport const LoginSchema = z.object({\n  email: z.string().email(),\n  password: z.string()\n})\n\nexport const RegisterSchema = z.object({\n  firstName: z.string(),\n  lastName: z.string(),\n  email: z.string().email({ message: \"Please enter a valid email.\" }).trim(),\n  password: z.string(),\n  repeatPassword: z.string(),\n}).refine(\n  (data) => data.password === data.repeatPassword,\n  {\n    message: \"Passwords do not match\",\n    path: [\"repeatPassword\", \"password\"],\n  },\n)\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAeO,MAAM,cAAc,mOAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClC,OAAO,mOAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK;IACvB,UAAU,mOAAA,CAAA,IAAC,CAAC,MAAM;AACpB;AAEO,MAAM,iBAAiB,mOAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACrC,WAAW,mOAAA,CAAA,IAAC,CAAC,MAAM;IACnB,UAAU,mOAAA,CAAA,IAAC,CAAC,MAAM;IAClB,OAAO,mOAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAAE,SAAS;IAA8B,GAAG,IAAI;IACxE,UAAU,mOAAA,CAAA,IAAC,CAAC,MAAM;IAClB,gBAAgB,mOAAA,CAAA,IAAC,CAAC,MAAM;AAC1B,GAAG,MAAM,CACP,CAAC,OAAS,KAAK,QAAQ,KAAK,KAAK,cAAc,EAC/C;IACE,SAAS;IACT,MAAM;QAAC;QAAkB;KAAW;AACtC","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/src/lib/auth.ts"],"sourcesContent":["'use server';\n\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport { BACKEND_API_URL } from './constants';\nimport { Role } from './enums';\nimport { User } from './types';\nimport { headers } from 'next/headers';\n// import { jwtVerify } from 'jose';\n\nexport async function requireAccessTokenOrRedirect() {\n  const cookieStore = await cookies();\n  const accessToken = cookieStore.get('Access')?.value;\n  if (!accessToken) {\n    redirect('/login');\n  }\n  return accessToken;\n}\n\nexport async function getUser(): Promise<User> {\n  const cookieStore = await cookies();\n  const accessToken = cookieStore.get('Access')?.value;\n  if (!accessToken) {\n    redirect('/login');\n  }\n\n  const res = await fetch(`${BACKEND_API_URL}/users/me`, {\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  });\n\n  const data = await res.json();\n\n  if (!res.ok) {\n    console.error('Failed to fetch user');\n    redirect('/login');\n  }\n  return data;\n}\n\nexport async function getUserRole(): Promise<Role> {\n  const cookieStore = await cookies();\n  const accessToken = cookieStore.get('Access')?.value;\n  if (!accessToken) {\n    redirect('/login');\n  }\n\n  const res = await fetch(`${BACKEND_API_URL}/users/me`, {\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  });\n\n  const data = await res.json();\n\n  if (!res.ok) {\n    console.error('Failed to fetch user');\n    redirect('/login');\n  }\n  return data.role;\n}\n\nexport async function getCurrentUser(): Promise<User | null> {\n  const headersList = await headers();\n  const userDataHeader = headersList.get('x-user-data');\n\n  if (userDataHeader) {\n    try {\n      return JSON.parse(userDataHeader) as User;\n    } catch {\n      return null;\n    }\n  }\n\n  return null;\n}\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AAAA;AACA;;;;;;;;AAMO,eAAe;IACpB,MAAM,cAAc,MAAM,CAAA,GAAA,8PAAA,CAAA,UAAO,AAAD;IAChC,MAAM,cAAc,YAAY,GAAG,CAAC,WAAW;IAC/C,IAAI,CAAC,aAAa;QAChB,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IACA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,CAAA,GAAA,8PAAA,CAAA,UAAO,AAAD;IAChC,MAAM,cAAc,YAAY,GAAG,CAAC,WAAW;IAC/C,IAAI,CAAC,aAAa;QAChB,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,uHAAA,CAAA,kBAAe,CAAC,SAAS,CAAC,EAAE;QACrD,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,aAAa;QACxC;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,QAAQ,KAAK,CAAC;QACd,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IACA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,CAAA,GAAA,8PAAA,CAAA,UAAO,AAAD;IAChC,MAAM,cAAc,YAAY,GAAG,CAAC,WAAW;IAC/C,IAAI,CAAC,aAAa;QAChB,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,uHAAA,CAAA,kBAAe,CAAC,SAAS,CAAC,EAAE;QACrD,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,aAAa;QACxC;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,QAAQ,KAAK,CAAC;QACd,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IACA,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,CAAA,GAAA,8PAAA,CAAA,UAAO,AAAD;IAChC,MAAM,iBAAiB,YAAY,GAAG,CAAC;IAEvC,IAAI,gBAAgB;QAClB,IAAI;YACF,OAAO,KAAK,KAAK,CAAC;QACpB,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,OAAO;AACT;;;IAlEsB;IASA;IAsBA;IAsBA;;AArDA,8WAAA;AASA,8WAAA;AAsBA,8WAAA;AAsBA,8WAAA","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/src/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport { BACKEND_API_URL } from './constants';\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport { FormState, LoginSchema, RegisterSchema } from './definitions';\nimport { requireAccessTokenOrRedirect } from './auth';\nimport { revalidatePath } from 'next/cache';\n\nexport async function registerUser(state: FormState, formData: FormData) {\n  const registerFields = RegisterSchema.safeParse({\n    firstName: formData.get('firstName'),\n    lastName: formData.get('lastName'),\n    email: formData.get('email'),\n    password: formData.get('password'),\n    repeatPassword: formData.get('repeatPassword')\n  });\n\n  if (!registerFields.success) {\n    return {\n      success: false,\n      error: registerFields.error.flatten().fieldErrors\n    };\n  }\n\n  await fetch(`${BACKEND_API_URL}/auth/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(registerFields.data)\n  });\n\n  return {\n    success: true,\n    message: 'Success Register'\n  };\n}\n\nexport async function loginUser(state: FormState, formData: FormData) {\n  const loginFields = LoginSchema.safeParse({\n    email: formData.get('email'),\n    password: formData.get('password')\n  });\n\n  if (!loginFields.success) {\n    return {\n      success: false,\n      error: loginFields.error.flatten().fieldErrors\n    };\n  }\n\n  const response = await fetch(`${BACKEND_API_URL}/auth/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(loginFields.data)\n  });\n\n  const data = await response.json();\n\n  if (response.ok && data.access_token) {\n    const c = await cookies();\n    c.set('Access', data.access_token, {\n      httpOnly: true,\n      path: '/'\n    });\n    redirect('/startups');\n  } else {\n    return {\n      success: false,\n      message: response.status === 409 ? 'User already exists' : response.statusText\n    };\n  }\n}\n\nexport async function applyStartup(state: FormState, formData: FormData) {\n  const access = await requireAccessTokenOrRedirect();\n\n  const rawFormData = {\n    name: formData.get('startupName'),\n    dataPrivacy: true,\n    eligibility: true\n  };\n\n  const response = await fetch(`${BACKEND_API_URL}/startups/create-startup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${access}`\n    },\n    body: JSON.stringify(rawFormData)\n  });\n\n  if (response.ok) {\n    revalidatePath('/startups');\n    return { success: true, message: 'yeah' };\n  } else {\n    const errorData = await response.json();\n    console.error('Error:', errorData);\n    return { success: false, error: errorData };\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;AAEO,eAAe,aAAa,KAAgB,EAAE,QAAkB;IACrE,MAAM,iBAAiB,yHAAA,CAAA,iBAAc,CAAC,SAAS,CAAC;QAC9C,WAAW,SAAS,GAAG,CAAC;QACxB,UAAU,SAAS,GAAG,CAAC;QACvB,OAAO,SAAS,GAAG,CAAC;QACpB,UAAU,SAAS,GAAG,CAAC;QACvB,gBAAgB,SAAS,GAAG,CAAC;IAC/B;IAEA,IAAI,CAAC,eAAe,OAAO,EAAE;QAC3B,OAAO;YACL,SAAS;YACT,OAAO,eAAe,KAAK,CAAC,OAAO,GAAG,WAAW;QACnD;IACF;IAEA,MAAM,MAAM,GAAG,uHAAA,CAAA,kBAAe,CAAC,YAAY,CAAC,EAAE;QAC5C,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC,eAAe,IAAI;IAC1C;IAEA,OAAO;QACL,SAAS;QACT,SAAS;IACX;AACF;AAEO,eAAe,UAAU,KAAgB,EAAE,QAAkB;IAClE,MAAM,cAAc,yHAAA,CAAA,cAAW,CAAC,SAAS,CAAC;QACxC,OAAO,SAAS,GAAG,CAAC;QACpB,UAAU,SAAS,GAAG,CAAC;IACzB;IAEA,IAAI,CAAC,YAAY,OAAO,EAAE;QACxB,OAAO;YACL,SAAS;YACT,OAAO,YAAY,KAAK,CAAC,OAAO,GAAG,WAAW;QAChD;IACF;IAEA,MAAM,WAAW,MAAM,MAAM,GAAG,uHAAA,CAAA,kBAAe,CAAC,YAAY,CAAC,EAAE;QAC7D,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC,YAAY,IAAI;IACvC;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,IAAI,SAAS,EAAE,IAAI,KAAK,YAAY,EAAE;QACpC,MAAM,IAAI,MAAM,CAAA,GAAA,8PAAA,CAAA,UAAO,AAAD;QACtB,EAAE,GAAG,CAAC,UAAU,KAAK,YAAY,EAAE;YACjC,UAAU;YACV,MAAM;QACR;QACA,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACX,OAAO;QACL,OAAO;YACL,SAAS;YACT,SAAS,SAAS,MAAM,KAAK,MAAM,wBAAwB,SAAS,UAAU;QAChF;IACF;AACF;AAEO,eAAe,aAAa,KAAgB,EAAE,QAAkB;IACrE,MAAM,SAAS,MAAM,CAAA,GAAA,kHAAA,CAAA,+BAA4B,AAAD;IAEhD,MAAM,cAAc;QAClB,MAAM,SAAS,GAAG,CAAC;QACnB,aAAa;QACb,aAAa;IACf;IAEA,MAAM,WAAW,MAAM,MAAM,GAAG,uHAAA,CAAA,kBAAe,CAAC,wBAAwB,CAAC,EAAE;QACzE,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,QAAQ;QACnC;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,SAAS,EAAE,EAAE;QACf,CAAA,GAAA,4PAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO;YAAE,SAAS;YAAM,SAAS;QAAO;IAC1C,OAAO;QACL,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,QAAQ,KAAK,CAAC,UAAU;QACxB,OAAO;YAAE,SAAS;YAAO,OAAO;QAAU;IAC5C;AACF;;;IA9FsB;IA8BA;IAsCA;;AApEA,8WAAA;AA8BA,8WAAA;AAsCA,8WAAA","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/.next-internal/server/app/%28auth%29/login/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {loginUser as '60e8a6c6babcf292ad0747c733c0cf1732c1867ec2'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/src/app/%28auth%29/login/LoginForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(auth)/login/LoginForm.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(auth)/login/LoginForm.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,oXAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","debugId":null}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/src/app/%28auth%29/login/LoginForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(auth)/login/LoginForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(auth)/login/LoginForm.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,oXAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","debugId":null}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///home/mau/Code/chumcheck/client/src/app/%28auth%29/login/page.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport Link from \"next/link\";\nimport LoginForm from \"./LoginForm\";\n\nconst Login = () => {\n  return (\n    <div className=\"flex h-full w-full\">\n      <div className=\"bg-muted/40 text-flutter-gray dark:text-flutter-white relative flex h-full flex-1 flex-col items-center rounded-bl-xl rounded-tl-xl\">\n        <div className=\"absolute flex w-full cursor-pointer items-center gap-2 p-5\">\n          <Image\n            src=\"/launchlab_logo.png\"\n            alt=\"citeams_logo\"\n            className=\"h-7 w-7\"\n            width={100}\n            height={100}\n          />\n          <Link\n            href=\"/\"\n            className=\"cursor-pointer text-xl font-black normal-case\"\n          >\n            ChumCheck\n          </Link>\n        </div>\n\n        <div className=\"flex flex-1 items-center justify-center\">\n          <Image\n            width={100}\n            height={100}\n            src=\"/loginv2.svg\"\n            alt=\"\"\n            className=\"h-3/4 w-3/4\"\n          />\n        </div>\n      </div>\n      <div className=\"bg-background text-flutter-gray dark:text-flutter-white flex h-full flex-1 items-center justify-center rounded-br-xl rounded-tr-xl\">\n\n        <LoginForm />\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,QAAQ;IACZ,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAI,WAAU;;0CACb,6WAAC,4PAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,WAAU;gCACV,OAAO;gCACP,QAAQ;;;;;;0CAEV,6WAAC,2RAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;kCAKH,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC,4PAAA,CAAA,UAAK;4BACJ,OAAO;4BACP,QAAQ;4BACR,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;;;;;;;0BAIhB,6WAAC;gBAAI,WAAU;0BAEb,cAAA,6WAAC,6IAAA,CAAA,UAAS;;;;;;;;;;;;;;;;AAIlB;uCAEe","debugId":null}}]
}